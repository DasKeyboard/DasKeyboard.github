<h1 id="das-keyboards-website"><a href="https://daskeyboard.github.io/q-website/">Das Keyboard</a>&#39;s website</h1>

<p>The website for <a href="https://daskeyboard.github.io/q-website/">Das Keyboard</a>.</p>

<p><a href="https://travis-ci.org/DasKeyboard/q-website"><img src="https://travis-ci.org/DasKeyboard/q-website.svg?branch=master" alt="Build Status"></a></p>

<h2 id="issues-bugs-and-requests">Issues, bugs, and requests</h2>

<p>We welcome contributions and feedback on our website!
Please file a request in our
<a href="https://github.com/metadot/q-website/issues/new">issue tracker</a>
and we&#39;ll take a look.</p>

<h2 id="developing">Developing</h2>

<p>Install Jekyll and related tools by following the
<a href="https://help.github.com/articles/using-jekyll-with-pages/">instructions</a>
provided by GitHub.</p>

<p>A tldr version follows:</p>

<ol>
<li><p>Ensure you have <a href="https://www.ruby-lang.org/en/documentation/installation/">Ruby</a> installed; you need version 2.2.2 or later:<br>
<code>ruby --version</code></p></li>
<li><p>Ensure you have <a href="http://bundler.io/">Bundler</a> installed; if not install with:<br>
<code>gem install bundler</code></p></li>
<li><p>Install all dependencies:<br>
<code>bundle install</code></p></li>
<li><p>Create a branch.</p></li>
<li><p>Make your changes.</p></li>
<li><p>Test your changes by serving the site locally:<br>
<code>bundle exec jekyll serve</code> (or <code>jekyll serve -w --force_polling</code>)</p></li>
<li><p>Prior to submitting, run link validation:<br>
<code>rake checklinks</code></p>

<h3 id="adding-next-previous-page-links">Adding next/previous page links</h3></li>
</ol>

<p>If you have a document that spans multiple pages, you can add next and previous
page links to make navigating these pages easier. It involves adding some information
to the front matter of each page, and including some HTML.</p>

<h2 id="part-b885805">```</h2>

<p>layout: tutorial
title: &quot;Constraints&quot;</p>

<p>permalink: /tutorials/layout/constraints.html
prev-page: /tutorials/layout/properties.html
prev-page-title: &quot;Container Properties&quot;
next-page: /tutorials/layout/create.html</p>

<h2 id="next-page-title-create-a-layout">next-page-title: &quot;Create a Layout&quot;</h2>

<p>{% include prev-next-nav.html %}</p>

<p>{:toc}</p>

<!-- PAGE CONTENT -->

<p>{% include prev-next-nav.html %}
```</p>

<p>Omit the &quot;prev-page&quot; info for the first page, and the &quot;next-page&quot; info for the
last page.</p>

<h2 id="syntax-highlighting">Syntax highlighting</h2>

<p>The https://daskeyboard.github.io/q-website/ website uses <a href="http://prismjs.com/">prism.js</a> for syntax
highlighting. This section covers how to use syntax highlighting, and
how to update our syntax highlighter for new languages.</p>

<h3 id="supported-languages">Supported languages</h3>

<p>This website can syntax highlight the following languages:</p>

<ul>
<li>shell</li>
<li>dart</li>
<li>html</li>
<li>css</li>
<li>javascript</li>
<li>java</li>
<li>objectivec</li>
<li>swift</li>
<li>go</li>
<li>php</li>
<li>python</li>
<li>ruby</li>
</ul>

<h3 id="using-syntax-highlighting">Using syntax highlighting</h3>

<p>The easiest way to syntax highlight a block of code is to wrap
it with triple backticks followed by the language.</p>

<p>Here&#39;s an example:</p>

<!-- skip -->

<pre><code>```dart
class SomeCode {
  String name;
}
```
</code></pre>

<p>See the list of supported languages above for what to use
following the first triple backticks.</p>

<h3 id="adding-more-languages-for-syntax-highlighting">Adding more languages for syntax highlighting</h3>

<p>The https://daskeyboard.github.io/q-website/ website uses a custom build of prism, which
includes only the languages the website requires. To improve
load times and user experience, we do not support every
language that prism supports.</p>

<p>To add a new language for syntax highlighting, you will need
to generate a new copy of the <code>prism.js</code> file.</p>

<p>Follow these steps to generate a new copy of <code>prism.js</code>:</p>

<ul>
<li>Open <code>js/prism.js</code></li>
<li>Copy the URL in the comment of the first line of the file</li>
<li>Paste it into a browser window/tab</li>
<li>Add the new language that you wish to syntax highlight</li>
<li>DO NOT change the other plugins, languages, or settings</li>
<li>Download the generated JavaScript, and use it to replace <code>js/prism.js</code></li>
<li>Download the generated CSS, and use it to replace <code>_sass/_prism.scss</code></li>
</ul>

<h2 id="advanced-stylization-of-code-blocks">Advanced stylization of code blocks</h2>

<p>Do you want to highlight (make the background yellow)
code inside a code block? Do you want to strike-through
code inside a code block? We got that!</p>

<p>For syntax highlighting, plus yellow highlighting
and strike-through formatting, use the <code>prettify</code> tag
with additional custom inline markup.</p>

<p>If you want to highlight a specific bit of code, use the
<code>[[highlight]]highlight this text[[/highlight]]</code> syntax
with the <code>prettify</code> tag.</p>

<p>For example:</p>

<!-- skip -->

<p>{% prettify dart %}
void main() {
  print([[highlight]]&#39;Hello World&#39;[[/highlight]]);
}
{% endprettify %}</p>

<p>If you want to strike-through a specific bit of code, use the
<code>[[strike]]highlight this text[[/strike]]</code> syntax
with the <code>prettify</code> tag.</p>

<p>For example:</p>

<!-- skip -->

<p>{% prettify dart %}
void main() {
  print([[strike]]&#39;Hello World&#39;[[/strike]]);
}
{% endprettify %}</p>

<p>The <code>prettify</code> plugin will also unindent your code.</p>

<h2 id="including-a-region-of-a-file">Including a region of a file</h2>

<p>You can include a specific range of lines from a file:</p>

<p><code>ruby
{% include includelines filename=PATH start=INT count=INT %}
</code></p>

<p><code>PATH</code> must be inside of <code>_include</code>. If you are including source code,
place that code into <code>_include/code</code> to follow our convention.</p>

<h2 id="code-snippet-validation">Code snippet validation</h2>

<p>The code snippets in the markdown documentation are validated as part of the
build process. Anything within a &#39;```dart&#39; code fence will be extracted into
its own file and checked for analysis issues. Some ways to tweak that:</p>

<ul>
<li>If a code snippet should not be analyzed, immediately proceed it with
a <code>&lt;!-- skip --&gt;</code> comment</li>
<li>To include code to be analyzed, but not displayed, add that in a comment
immediately proceeding the snippet (e.g., <code>&lt;!-- someCodeHere(); --&gt;</code>)</li>
<li>A snippet without any import statements will have an import
(<code>&#39;package:q-website/material.dart&#39;</code>)
automatically added to it</li>
<li>We ignore special formatting tags like <code>[[highlight]]</code>.</li>
</ul>

<h2 id="preventing-broken-links">Preventing broken links</h2>

<p>Some form of broken links prevention is done automatically by <code>rake checklinks</code>
on every commit (through <code>tool/travis.sh</code>). But this won&#39;t see any Firebase 
redirects (<code>rake checklinks</code> doesn&#39;t run the Firebase server) and it won&#39;t
check incoming links.</p>

<p>Before we can move the more complete
<a href="https://github.com/dart-lang/site-webdev/blob/master/scripts/check-links-using-fb.sh">automated <code>linkcheck</code> solution</a>
from dartlang.org, we recommend manually running the following.</p>

<ul>
<li>First time setup:</li>
</ul>

<p><code>
  pub global activate linkcheck
  npm install -g superstatic
</code></p>

<ul>
<li>Start the localhost Firebase server:</li>
</ul>

<p><code>
  superstatic --port 3474
</code></p>

<ul>
<li>Run the link checker:</li>
</ul>

<p><code>
  linkcheck :3474
</code></p>

<p>Even better, to check that old URLs are correctly redirected:</p>

<p><code>
  linkcheck :3474 --input tool/sitemap.txt
</code></p>
